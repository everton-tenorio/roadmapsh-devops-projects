# SSH Remote Server Setup 
https://roadmap.sh/projects/ssh-remote-server-setup


The goal of this project is to learn and practice the basics of Linux. You are required to setup a remote linux server and configure it to allow SSH connections.

- There are two ways to connect via SSH to an EC2 instance (AWS): using a .pem key generated by AWS or manually generating a key pair via the OpenSSH client and adding the public key to the instance's OpenSSH server (sshd).
- I chose to generate the key directly from EC2.
- I chose ed25519 as the encryption type because I believe it is more secure.
- I saved the .pem key in the ~/.ssh directory and changed the permissions to grant full control only to the user using: `chmod 700 key.pem`.
- I created a config file with the following structure:

```bash
Host ec2
  HostName <ip>
  User <user>
  Port <port>
  IdentityFile ~/.ssh/<key>.pem 
```

This way, instead of using ssh -i <key>.pem <user>@<ip>.

- I connected to the instance using the command `ssh ec2`.


## Fail2ban

As a bonus task, I used Fail2ban as a security layer to prevent brute force attacks on SSH. First, I made some changes to the main SSH daemon configuration file, where I disabled password access, set max retries to 3, and changed the port. Then, I created a configuration file for /etc/fail2ban/jail.d/ssh and added the following parameters:

```bash
Status for the jail: sshd
|- Filter
|  |- Currently failed:	1
|  |- Total failed:	2
|  `- Journal matches:	_SYSTEMD_UNIT=sshd.service + _COMM=sshd
`- Actions
   |- Currently banned:	0
   |- Total banned:	0
   `- Banned IP list:	
```
Verify: 
- `fail2ban-client -t`
- `sudo fail2ban-client status sshd`
